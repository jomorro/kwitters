(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{250:function(e,t,n){e.exports=n(430)},268:function(e,t,n){},270:function(e,t,n){},430:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(47),o=n.n(c),l=n(32),i=(n(268),n(16)),s=n(17),u=n(19),m=n(18),h=n(20),E=(n(270),n(15)),d="GET_MESSAGES",p="GET_MESSAGES_SUCCESS",f="GET_MESSAGES_FAILURE",g="https://kwitter-api.herokuapp.com",S=function(e){return function(t){t({type:"LOGIN"}),fetch("".concat(g,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.ok||e.json().then(function(e){throw e}),e.json()}).then(function(e){t({type:"LOGIN_SUCCESS",payload:{token:e.token,id:e.id},login:e,result:"Successful login!"}),t(Object(l.push)("/profile")),t(O(e.id))}).catch(function(e){t({type:"LOGIN_FAILURE",result:"Failed to login. Please enter a valid username and/or password."})})}},O=function(e){return function(t){t({type:"GET_USER"}),fetch("".concat(g,"/users/").concat(e)).then(function(e){return e.ok||e.json().then(function(e){throw e}),e.json()}).then(function(e){t({type:"GET_USER_SUCCESS",data:e.user})}).then(t(U())).catch(function(e){t({type:"GET_USER_FAILURE",err:e})})}},y=function(e){return function(t){t({type:"GET_ANY_USER"}),fetch("".concat(g,"/users/").concat(e)).then(function(e){return e.ok||e.json().then(function(e){throw e}),e.json()}).then(function(e){t({type:"GET_ANY_USER_SUCCESS",data:e.user})}).catch(function(e){t({type:"GET_ANY_USER_FAILURE",err:e})})}},b=function(e){return function(t,n){t(function(e){return function(t){return t({type:"GET_MESSAGE_BY_ID"}),fetch("".concat(g,"/messages/").concat(e)).then(function(e){return e.json()}).then(function(e){return t({type:"GET_MESSAGE_BY_ID_SUCCESS"}),e.message})}}(e)).then(function(a){var r=n().messages.findIndex(function(t){return t.id===e});t(-1!==r?{type:"UPDATE_MESSAGE_BY_ID_SUCCESS",id:e,index:r,message:a}:{type:"UPDATE_MESSAGE_BY_ID_FAIL",id:e})})}},j=function(e){return function(t,n){var a,r=n().messages.find(function(t){return t.id===e}),c=n().loggedInUser.id,o=r.likes.find(function(e){return e.userId===c});o?t((a=o.id,function(e,t){var n=t().authentication.token;return e({type:"REMOVE_LIKE"}),fetch("".concat(g,"/likes/").concat(a),{method:"DELETE",headers:{Authorization:"Bearer "+n}}).then(function(e){return e.json()}).then(function(t){e({type:"REMOVE_LIKE_SUCCESS"})})})).then(function(){t(b(e))}):t(function(e){return function(t,n){var a=n().authentication.token;return t({type:"ADD_LIKE"}),fetch("".concat(g,"/likes"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify({messageId:e})}).then(function(e){return e.json()}).then(function(e){t({type:"ADD_LIKE_SUCCESS"})})}}(e)).then(function(){t(b(e))})}};function C(){return function(e,t){e({type:d}),fetch("".concat(g,"/messages")).then(function(e){if("OK"===e.statusText)return e.json()}).then(function(n){e({type:p,payload:{messages:n.messages}}),n.messages.forEach(function(n){if(t().users[n.userId])return null;e(y(n.userId))}),setTimeout(function(){return e(C())},5e3)}).catch(function(t){console.log(t),e({type:f})})}}var U=function(){return function(e,t){var n=t().authentication.id;return e({type:"DOWNLOAD_USER_IMAGE"}),fetch("".concat(g,"/users/").concat(n,"/picture")).then(function(e){return e.ok?e.blob().then(function(e){return window.URL.createObjectURL(e)}):"https://react.semantic-ui.com/images/avatar/large/rachel.png"}).then(function(t){e({type:"DOWNLOAD_USER_IMAGE_SUCCESS",userImage:t})}).catch(function(t){console.error(t),e({type:"DOWNLOAD_USER_IMAGE_FAIL"})})}},_=n(23),A=n(448),I=n(439),v=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(A.a,{color:"green",animation:"overlay",Icon:"labeled",Inverted:!0,vertical:!0,width:"thin",fluid:!0},r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Header,null,this.props.text),r.a.createElement(A.a.Description,null,"Kweeted by ",this.props.username),r.a.createElement(I.a,null),r.a.createElement(A.a.Content,{extra:!0},r.a.createElement("button",{onClick:this.props.toggleLike},this.props.isLiked?"Unlike":"Like"),r.a.createElement("p",null,"Likes: ",this.props.numOfLikes)))))}}]),t}(a.Component),k=n(452),w=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getMessages()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{container:!0,stackable:!0},r.a.createElement(k.a.Row,null,r.a.createElement(k.a.Column,null,this.props.messages.map(function(t){return r.a.createElement(v,{key:t.id,text:t.text,username:t.username,toggleLike:function(){return e.props.toggleLike(t.id)},numOfLikes:t.likes.length,isLiked:t.isLiked})})))))}}]),t}(a.Component),L=Object(_.connect)(function(e){return{messages:e.messages.map(function(t){var n=e.users[t.userId]&&e.users[t.userId].username||"unknown";return t.likes.find(function(t){return t.userId===e.authentication.id})?Object(E.a)({},t,{username:n,isLiked:!0}):Object(E.a)({},t,{username:n,isLiked:!1})})}},function(e){return{getMessages:function(){e(C())},toggleLike:function(t){return e(j(t))}}})(w),R=n(446),T=n(441),D=n(449),G=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={text:""},n.handleMessageSubmit=function(e){n.setState({text:e.target.value})},n.handleComposeMessageProfileEnter=function(e){"Enter"===e.key&&(n.props.composeMessage(n.state.text),n.setState({text:""}))},n.handleComposeMessageProfileButton=function(e){n.props.composeMessage(n.state.text),n.setState({text:""})},n.displayFeed=function(){return r.a.createElement(R.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(T.a,{placeholder:"What would you like to Kweet about today?",onChange:n.handleMessageSubmit,value:n.state.text,onKeyPress:n.handleComposeMessageProfileEnter,maxLength:"255",style:{maxWidth:"36em"}}),r.a.createElement(D.a,{style:{color:"rgb(45,45,45)",padding:"5px"},onClick:n.handleComposeMessageProfileButton},"Kweet"))},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,this.displayFeed())}}]),t}(r.a.Component);var x=Object(_.connect)(function(e){return{userID:e.userID}},function(e){return{composeMessage:function(t){e(function(e){return function(t,n){var a=n().authentication.token;return t({type:"CREATE_MESSAGE"}),fetch("".concat(g,"/messages"),{method:"POST",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},body:JSON.stringify({text:e})}).then(function(e){return e.json()}).then(function(e){t({type:"CREATE_MESSAGE_SUCCESS"});var a=n().authentication.id;t(O(a))})}}(t))}}})(G),M=n(65),N=n.n(M),F=n(431),P=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{src:N.a,size:"medium",centered:!0}),r.a.createElement(x,null),r.a.createElement("h1",{style:{textAlign:"center",color:"green"}},"Feed"),r.a.createElement(L,null))}}]),t}(a.Component),z=n(450),B=n(453),W=n(454),K=n(442),Y=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement(A.a,{color:"green",animation:"overlay",icon:"labeled",width:"thin",fluid:!0},r.a.createElement(A.a.Content,null,r.a.createElement(A.a.Header,null,this.props.text),r.a.createElement(A.a.Description,null,"Kweeted by ",this.props.username),r.a.createElement(I.a,null),r.a.createElement(A.a.Content,{extra:!0},r.a.createElement("p",null,"Likes: ",this.props.numOfLikes)))))}}]),t}(a.Component),H=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getMessages()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{container:!0,stackable:!0},r.a.createElement(k.a.Row,null,r.a.createElement(k.a.Column,null,this.props.messages.map(function(t){return r.a.createElement(Y,{key:t.id,text:t.text,username:t.username,toggleLike:function(){return e.props.toggleLike(t.id)},numOfLikes:t.likes.length,isLiked:t.isLiked})})))))}}]),t}(a.Component),J=Object(_.connect)(function(e){return{messages:e.messages.map(function(t){var n=e.users[t.userId]&&e.users[t.userId].username||"unknown";return t.likes.find(function(t){return t.userId===e.authentication.id})?Object(E.a)({},t,{username:n,isLiked:!0}):Object(E.a)({},t,{username:n,isLiked:!1})})}},function(e){return{getMessages:function(){e(C())},toggleLike:function(t){return e(j(t))}}})(H),q=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleUploadImage=function(e){e.preventDefault();var t=new FormData(e.target);n.props.uploadUserImage(t)},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(k.a,{container:!0,stackable:!0},r.a.createElement(k.a.Row,null,r.a.createElement(k.a.Column,{width:6},r.a.createElement(A.a,{color:"black",as:z.a,animation:"overlay",icon:"labeled",width:"thin",fluid:!0},r.a.createElement(A.a.Content,null,r.a.createElement(F.a,{wrapped:!0,size:"medium",src:this.props.userImageSrc}),r.a.createElement(B.a,{style:{padding:"1em 0em"},inverted:!0,color:"blue"},r.a.createElement(A.a.Header,{as:"h2",textAlign:"center"},this.props.username)),r.a.createElement(A.a.Description,null,r.a.createElement(A.a.Meta,{as:"h2"},"Display Name:"),this.props.displayName),r.a.createElement(I.a,null),r.a.createElement(A.a.Description,null,r.a.createElement(A.a.Meta,{as:"h2"},"About Me:"),this.props.about)),r.a.createElement(A.a.Content,{extra:!0},r.a.createElement(K.a,{to:"/editprofile"},r.a.createElement(D.a,{size:"large",color:"yellow",fluid:!0},"Edit Profile"))))),r.a.createElement(k.a.Column,{floated:"right",width:10},r.a.createElement(B.a,{basic:!0},r.a.createElement(W.a,{as:"h1",textAlign:"center",color:"blue"},"My Messages"),r.a.createElement(I.a,null),r.a.createElement(J,null),r.a.createElement("br",null),r.a.createElement(F.a,{src:N.a,size:"medium",centered:!0})))))}}]),t}(a.Component),V=Object(_.connect)(function(e){return{displayName:e.loggedInUser.displayName,about:e.loggedInUser.about,username:e.loggedInUser.username,userImageSrc:e.loggedInUser.userImage}},function(){return r.a.createElement("div",null,r.a.createElement(F.a,{size:"tiny",verticalAlign:"top"})," ",r.a.createElement("span",null,"Top Aligned"),r.a.createElement(I.a,null))})(q),X=n(444),$=n(445),Q=n(440),Z=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleUsernameChange=function(e){n.setState({username:e.target.value})},n.handlePasswordChange=function(e){n.setState({password:e.target.value})},n.handleLogin=function(e){n.props.login({username:n.state.username,password:n.state.password})},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(k.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},r.a.createElement(k.a.Column,{style:{maxWidth:450}},r.a.createElement("div",null),r.a.createElement(W.a,{as:"h1",color:"blue",textAlign:"center"},"Welcome to Kwitter!"),r.a.createElement(F.a,{src:N.a,size:"medium",centered:!0}),r.a.createElement(W.a,{as:"h2",color:"blue",textAlign:"center"},"Login"),r.a.createElement(R.a,{onSubmit:this.handleLogin,size:"large"},r.a.createElement(B.a,{stacked:!0,color:"grey"},r.a.createElement(R.a.Field,{label:"Username:",required:!0,placeholder:"Username",type:"text",control:Q.a,autoFocus:!0,onChange:this.handleUsernameChange}),r.a.createElement(R.a.Field,{label:"Password:",required:!0,placeholder:"Password",type:"password",control:Q.a,onChange:this.handlePasswordChange}),r.a.createElement(D.a.Group,null,r.a.createElement(D.a,{type:"submit",positive:!0,size:"large",to:"/profile"},"Login to Your Account!"),r.a.createElement(D.a.Or,null),r.a.createElement(K.a,{to:"/register"},r.a.createElement(D.a,{size:"large",color:"yellow"},"Don't Have an Account? Register Here!"))),r.a.createElement("div",null,this.props.result)))))}}]),t}(a.Component),ee=Object(_.connect)(function(e){return{result:e.loginResult}},function(e){return{login:function(t){return e(S(t))}}})(Z),te=n(48),ne=n(447),ae=n(215),re=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={modalOpen:!1},n.handleOpen=function(){return n.setState({modalOpen:!0})},n.handleClose=function(){return n.setState({modalOpen:!1})},n.handleDeleteUser=function(e){n.props.deleteUser(n.props.token),n.setState({modalOpen:!1})},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(ne.a,{trigger:r.a.createElement(D.a,{onClick:this.handleOpen,color:"red"},r.a.createElement(ae.a,{name:"hand peace"}),"Delete Account"),open:this.state.modalOpen,onClose:this.handleClose,size:"tiny"},r.a.createElement(W.a,{textAlign:"center",verticalAlign:"middle",icon:"hand peace",as:"h1"},"Are you want to delete your account?",r.a.createElement(I.a,null),r.a.createElement(ne.a.Actions,null,r.a.createElement(D.a.Group,null,r.a.createElement(D.a,{color:"green",onClick:this.handleDeleteUser},r.a.createElement(ae.a,{name:"trash"})," Trash It!"),r.a.createElement(D.a.Or,null),r.a.createElement(D.a,{color:"red",onClick:this.handleClose},r.a.createElement(ae.a,{name:"smile"})," No thanks!")))))}}]),t}(a.Component),ce=Object(_.connect)(function(e){return{token:e.authentication.token}},function(e){return{deleteUser:function(t){return e(function(e){return function(t){t({type:"DELETE_USER"}),fetch("".concat(g,"/users"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}}).then(function(e){return e.ok||e.json().then(function(e){throw e}),e.json()}).then(function(e){console.log(e),t({type:"DELETE_USER_SUCCESS"}),t(Object(l.push)("/register"))}).catch(function(e){t({type:"DELETE_USER_FAILURE",err:e})})}}(t))}}})(re),oe=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={displayName:"",password:"",about:""},n.handleChange=function(e,t){var a=t.value;return n.setState(Object(te.a)({},e.target.name,a))},n.handleSubmit=function(e){e.preventDefault(),n.props.updateUser(Object(E.a)({},n.state));var t=new FormData(e.target);n.props.uploadUserImage(t)},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(k.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},r.a.createElement(k.a.Column,{style:{maxWidth:600}},r.a.createElement(W.a,{as:"h2",color:"blue",icon:!0},"Edit your profile!",r.a.createElement(W.a.Subheader,null,"Here you can change your display name, password, or update your about info.")),r.a.createElement(A.a,null,r.a.createElement(ne.a.Content,{image:!0},r.a.createElement(F.a,{wrapped:!0,size:"medium",src:this.props.userImageSrc})),r.a.createElement(R.a,{onSubmit:this.handleSubmit,size:"large"},r.a.createElement(B.a,{stacked:!0,color:"grey"},r.a.createElement(R.a.Input,{name:"picture",type:"file",title:"picture"}),r.a.createElement(R.a.Input,{onChange:this.handleChange,name:"displayName",fluid:!0,label:"Display Name",placeholder:"Display Name"}),r.a.createElement(R.a.Input,{onChange:this.handleChange,name:"password",fluid:!0,label:"Password",placeholder:"Password"}),r.a.createElement(R.a.TextArea,{onChange:this.handleChange,name:"about",label:"About",placeholder:"Tell us more about you..."}),r.a.createElement(R.a.Button,{color:"green",type:"submit"},r.a.createElement(ae.a,{name:"checkmark"})," Confirm Changes"),r.a.createElement(ce,null))))))}}]),t}(a.Component),le=Object(_.connect)(function(e){return{token:e.authentication.token,userImageSrc:e.loggedInUser.userImage}},function(e){return{updateUser:function(t){return e(function(e){return function(t,n){var a=n().authentication.token;""===e.displayName&&delete e.displayName,""===e.password&&delete e.password,t({type:"UPDATE_USER"}),fetch("".concat(g,"/users"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.ok||e.json().then(function(e){throw e}),e.json()}).then(function(e){t({type:"UPDATE_USER_SUCCESS",data:e.user}),t(Object(l.push)("/profile"))}).catch(function(e){t({type:"UPDATE_USER_FAILURE",err:e})})}}(t))},uploadUserImage:function(t){return e(function(e){return function(t,n){var a=n().authentication.token;t({type:"UPLOAD_USER_IMAGE"}),fetch("".concat(g,"/users/picture"),{method:"PUT",headers:{Authorization:"Bearer ".concat(a)},body:e}).then(function(e){return e.ok?(t({type:"UPLOAD_USER_IMAGE_SUCCESS",userImageTimestamp:Date.now()}),void t(U())):t({type:"UPLOAD_USER_IMAGE_FAIL"})})}}(t))}}})(oe),ie=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",displayName:"",password:""},n.handleUsernameChange=function(e){n.setState({username:e.target.value})},n.handleDisplayNameChange=function(e){n.setState({displayName:e.target.value})},n.handlePasswordChange=function(e){n.setState({password:e.target.value})},n.handleRegister=function(e){n.props.register({username:n.state.username,displayName:n.state.displayName,password:n.state.password})},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(k.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},r.a.createElement(k.a.Column,{style:{maxWidth:450}},r.a.createElement("div",null),r.a.createElement(W.a,{as:"h1",color:"blue",textAlign:"center"},"Welcome to Kwitter!"),r.a.createElement(F.a,{src:N.a,size:"small",centered:!0}),r.a.createElement(W.a,{as:"h2",color:"grey",textAlign:"center"},"Register a New Account"),r.a.createElement(R.a,{size:"large"},r.a.createElement(B.a,{stacked:!0,color:"grey"},r.a.createElement(R.a.Field,{label:"ALL FIELDS MUST HAVE 3-20 CHARACTERS"}),r.a.createElement(R.a.Field,{label:"Username:",required:!0,placeholder:"Username",type:"text",control:Q.a,autoFocus:!0,onChange:this.handleUsernameChange}),r.a.createElement(R.a.Field,{label:"Display Name:",required:!0,placeholder:"Display Name",type:"text",control:Q.a,onChange:this.handleDisplayNameChange}),r.a.createElement(R.a.Field,{label:"Password:",required:!0,placeholder:"Password",type:"password",control:Q.a,onChange:this.handlePasswordChange}),r.a.createElement(D.a.Group,null,r.a.createElement(D.a,{positive:!0,size:"large",onClick:this.handleRegister},"Create Your New Account!"),r.a.createElement(D.a.Or,null),r.a.createElement(K.a,{to:"/"},r.a.createElement(D.a,{size:"large",color:"yellow"},"Already Have an Account? Login Here!"))),r.a.createElement("div",null,this.props.result)))))}}]),t}(a.Component),se=Object(_.connect)(function(e){return{result:e.registerResult}},function(e){return{register:function(t){return e(function(e,t){return function(t){t({type:"REGISTER"}),fetch("".concat(g,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.ok||e.json().then(function(e){throw e}),e.json()}).then(function(n){t({type:"REGISTER_SUCCESS",register:n,result:"Successfully Registered!"}),t(Object(l.push)("/profile")),t(S({username:e.username,password:e.password}))}).catch(function(e){t({type:"REGISTER_FAILURE",result:"Failed to register. Please enter a unique username, and make sure all fields have 3-20 characters."})})}}(t))}}})(ie),ue=n(451),me=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={},n.handleLogout=function(e){n.props.logout(),n.setState({active:!1})},n.handleOpen=function(){return n.setState({active:!0})},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.active;return r.a.createElement(z.a.Menu,{position:"right"},r.a.createElement(z.a.Item,{name:"logout",onClick:this.handleOpen}),r.a.createElement(ue.a,{active:e,page:!0},r.a.createElement(W.a,{as:"h2",icon:!0,inverted:!0},r.a.createElement(ae.a,{name:"frown outline"}),r.a.createElement(z.a.Item,null,"Thanks for using KWITTER! Kweet soon!"),r.a.createElement(I.a,null),r.a.createElement(D.a,{name:"logout",onClick:this.handleLogout,size:"massive",color:"yellow"},"Logout"))))}}]),t}(a.Component),he=Object(_.connect)(null,function(e){return{logout:function(){return e(function(e){fetch("".concat(g,"/auth/logout")).then(function(e){return e.ok||e.json().then(function(e){throw e}),e.json()}).then(function(t){e({type:"LOGOUT_SUCCESS"}),e(Object(l.push)("/"))}).catch(function(t){e({type:"LOGOUT_FAILURE",err:t})})})}}})(me),Ee=n(443),de=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={activeItem:"profile"},n.handleItemClick=function(e,t){var a=t.name;return n.setState({activeItem:a})},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.activeItem;return r.a.createElement(Ee.a,null,r.a.createElement(z.a,{pointing:!0,secondary:!0,color:"blue"},r.a.createElement(z.a.Item,{header:!0},"Kwitter"),r.a.createElement(z.a.Item,{as:K.a,name:"feed",active:"feed"===e,onClick:this.handleItemClick,to:"/feed"}),r.a.createElement(z.a.Item,{name:"profile",as:K.a,active:"profile"===e,onClick:this.handleItemClick,to:"/profile"}),r.a.createElement(z.a.Menu,{position:"right"},r.a.createElement(he,null))),r.a.createElement("div",null))}}]),t}(a.Component),pe=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,null,r.a.createElement($.a,{exact:!0,path:"/editprofile",component:de}),r.a.createElement($.a,{exact:!0,path:"/feed",component:de}),r.a.createElement($.a,{exact:!0,path:"/profile",component:de}),r.a.createElement($.a,{exact:!0,path:"/",component:null}),r.a.createElement($.a,{exact:!0,path:"/register",component:null})),r.a.createElement(X.a,null,r.a.createElement($.a,{exact:!0,path:"/feed",component:P}),r.a.createElement($.a,{exact:!0,path:"/profile",component:V}),r.a.createElement($.a,{exact:!0,path:"/register",component:se}),r.a.createElement($.a,{exact:!0,path:"/editprofile",component:le}),r.a.createElement($.a,{exact:!0,path:"/",component:ee})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fe=n(49),ge=n(240),Se={authentication:{loginAuthSuccess:!1,token:null,id:""},loggedInUser:{id:0,username:"",displayName:"",about:"",createdAt:"",updatedAt:"",messages:[]},login:{},loginResult:"",messages:[],register:{},registerResult:"",userId:null,users:{}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_USER":case"DELETE_USER_FAILURE":return e;case"DELETE_USER_SUCCESS":return Object(E.a)({},e,{initialState:Se});case"GET_ANY_USER":return e;case"GET_ANY_USER_SUCCESS":return Object(E.a)({},e,{users:Object(E.a)({},e.users,Object(te.a)({},t.data.id,t.data))});case"GET_ANY_USER_FAILURE":case d:case f:return e;case p:return Object(E.a)({},e,{messages:t.payload.messages});case"GET_USER":return e;case"GET_USER_SUCCESS":return Object(E.a)({},e,{loggedInUser:t.data});case"GET_USER_FAILURE":case"LOGIN":return e;case"LOGIN_FAILURE":return Object(E.a)({},e,{authentication:{loginAuthSuccess:!1},loginResult:t.result});case"LOGIN_SUCCESS":return Object(E.a)({},e,{authentication:{loginAuthSuccess:!0,token:t.payload.token,id:t.payload.id},login:t.login,loginResult:t.result});case"LOGOUT":return e;case"LOGOUT_SUCCESS":return Object(E.a)({},e,{loggedInUser:Se.loggedInUser,authentication:Se.authentication});case"LOGOUT_FAILURE":case"REGISTER":return e;case"REGISTER_FAILURE":return Object(E.a)({},e,{registerResult:t.result});case"REGISTER_SUCCESS":return Object(E.a)({},e,{register:t.register,registerResult:t.result});case"UPDATE_MESSAGE_BY_ID_SUCCESS":var n=e.messages.slice();return n.splice(t.index,1,t.message),Object(E.a)({},e,{messages:n});case"UPDATE_USER":return e;case"UPDATE_USER_SUCCESS":return Object(E.a)({},e,{loggedInUser:Object(E.a)({},e.loggedInUser,t.data)});case"UPDATE_USER_FAILURE":return e;case"UPLOAD_USER_IMAGE":return Object(E.a)({},e);case"UPLOAD_USER_IMAGE_SUCCESS":return Object(E.a)({},e,{userImageTimestamp:t.userImageTimestamp});case"UPLOAD_USER_IMAGE_FAIL":case"DOWNLOAD_USER_IMAGE":return Object(E.a)({},e);case"DOWNLOAD_USER_IMAGE_SUCCESS":return Object(E.a)({},e,{loggedInUser:Object(E.a)({},e.loggedInUser,{userImage:t.userImage})});case"DOWNLOAD_USER_IMAGE_FAIL":return Object(E.a)({},e);default:return e}},ye=n(27),be=Object(ye.a)({basename:"/kwitters"}),je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||fe.c,Ce=Object(fe.d)(Object(l.connectRouter)(be)(Oe),je(Object(fe.a)(Object(l.routerMiddleware)(be),ge.a)));o.a.render(r.a.createElement(function(){return r.a.createElement(_.Provider,{store:Ce},r.a.createElement(l.ConnectedRouter,{history:be},r.a.createElement(pe,null)))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},65:function(e,t,n){e.exports=n.p+"static/media/favicon.34f3b9ef.ico"}},[[250,2,1]]]);
//# sourceMappingURL=main.35cf0915.chunk.js.map